!function(a,b){"use strict";function c(){this._cover&&this._cover.bringToTop()}function d(){var a=arguments[0];if(this.game.paused=!0,this._cover&&this._cover.destroy(),this._texture=new b.RenderTexture(this.game,this.game.width,this.game.height,"cover"),this._texture.renderXY(this.game.world,-this.game.camera.x,-this.game.camera.y),a){var c=this.game.state.states[a].create,d=this;this._cover=new b.Sprite(this.game,0,0,this._texture),this._cover.fixedToCamera=!0,this._cover.anchor.setTo(.5,.5),this._cover.cameraOffset.x=this.game.width/2,this._cover.cameraOffset.y=this.game.height/2,this.game.state.states[a].create=function(){c.call(d.game.state.states[a]),d.game.add.existing(d._cover),e.call(d)},this.game.state.start.apply(this.game.state,arguments)}this.game.paused=!1}function e(){if(g&&g.properties){for(var a in g.properties)if("object"!=typeof g.properties[a]){var b={};b[a]=g.properties[a],this._tween=this.game.add.tween(this._cover).to(b,g.duration,g.ease,!0)}else this._tween=this.game.add.tween(this._cover[a]).to(g.properties[a],g.duration,g.ease,!0);this._tween.onComplete.addOnce(f,this)}}function f(){this._cover&&this._cover.destroy(),this._texture&&this._texture.destroy()}b.Plugin.StateTransition=function(a,c){b.Plugin.call(this,a,c)},b.Plugin.StateTransition.prototype=Object.create(b.Plugin.prototype),b.Plugin.StateTransition.prototype.constructor=b.Plugin.StateTransition,b.Plugin.StateTransition.prototype.to=function(){d.apply(this,arguments)},b.Plugin.StateTransition.prototype.bringToTop=function(){c.call(this)},b.Plugin.StateTransition.prototype.settings=function(a){if(!a)return Object.create(g);for(var b in a)g[b]&&(g[b]=a[b])};var g={duration:300,ease:b.Easing.Exponential.InOut,properties:{alpha:0}}}(window,Phaser);